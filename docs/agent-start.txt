agentjj - Version Control for AI Agents
=======================================

Self-contained binary. Zero dependencies. Works with any git repo.


1. INSTALL
----------

Homebrew (macOS/Linux):
    brew install 2389-research/tap/agentjj

Cargo:
    cargo install agentjj

Binary (macOS ARM):
    curl -L https://github.com/2389-research/agentjj/releases/latest/download/agentjj-aarch64-apple-darwin.tar.gz | tar xz
    sudo mv agentjj /usr/local/bin/

Binary (macOS Intel):
    curl -L https://github.com/2389-research/agentjj/releases/latest/download/agentjj-x86_64-apple-darwin.tar.gz | tar xz
    sudo mv agentjj /usr/local/bin/

Binary (Linux x86_64):
    curl -L https://github.com/2389-research/agentjj/releases/latest/download/agentjj-x86_64-unknown-linux-gnu.tar.gz | tar xz
    sudo mv agentjj /usr/local/bin/

Verify:
    agentjj --version


2. ORIENT
---------

In any git repository, run:

    agentjj --json orient

Returns: current state, file structure, recent changes, suggested actions.


3. CORE WORKFLOW
----------------

    # See current state
    agentjj --json status

    # See changes
    agentjj --json diff

    # Checkpoint before risky changes
    agentjj checkpoint before-refactor

    # Make edits...

    # If things go wrong, restore
    agentjj undo --to before-refactor

    # Commit
    agentjj commit -m "feat: add feature"

    # Push
    agentjj push --branch main


4. COMMAND REFERENCE
--------------------

Repository State:
    agentjj orient              Complete repo orientation (start here)
    agentjj status              Current change ID, operation ID, files
    agentjj diff                Show current changes
    agentjj graph               Visualize commit DAG

Making Changes:
    agentjj commit -m "msg"     Commit current changes
    agentjj push --branch main  Push to remote
    agentjj tag v1.0.0 --push   Create and push a tag

Code Intelligence:
    agentjj read <file>                 Read file content
    agentjj symbol <file>               List symbols in file
    agentjj context <file>::<symbol>    Get context for a symbol
    agentjj bulk read <files...>        Read multiple files

Safety & Recovery:
    agentjj checkpoint <name>   Create named restore point
    agentjj undo                Undo last operation
    agentjj undo --to <name>    Restore to checkpoint
    agentjj undo --dry-run      Preview what would be undone


5. JSON MODE
------------

Always use --json for programmatic access:

    agentjj --json status
    agentjj --json orient
    agentjj --json diff

Output is structured JSON.

Errors return:
    {"error": true, "message": "Description of what went wrong"}

Exit codes: 0 = success, 1 = error


6. TYPED COMMITS
----------------

Add semantic metadata:

    agentjj change set \
      --intent "Add retry logic" \
      --type behavioral \
      --category feature

Types: behavioral, refactor, schema, docs, deps, config, test
Categories: feature, fix, perf, security, breaking, deprecation, chore


7. RULES
--------

1. Use agentjj, not git    Don't shell out to git commands
2. Use agentjj, not jj     agentjj embeds jj-lib, no jj CLI needed
3. Always use --json       Human output format may change
4. Start with orient       Best context source
5. Checkpoint before risk  Easy recovery beats careful planning


8. SELF-DOCUMENTING
-------------------

    # List all output schemas
    agentjj schema

    # Get specific schema
    agentjj schema --type status
    agentjj schema --type orient


9. HELP
-------

    agentjj --help
    agentjj <command> --help


LINKS
-----

Repository: https://github.com/2389-research/agentjj
Releases:   https://github.com/2389-research/agentjj/releases
Homebrew:   brew install 2389-research/tap/agentjj
